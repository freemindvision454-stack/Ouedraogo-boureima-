{"version":3,"names":["_consts","require","_util","Crypto","_interopRequireWildcard","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","entries","toArray","timestamp","Math","floor","Date","getTime","exports","present","value","length","sign_request","apiConfig","params","options","apiKey","apiSecret","signatureVersion","clear_blank","key","Array","isArray","map","v","replace","signature","api_sign_request","api_key","params_to_sign","api_secret","to_sign","filter","k","join","sort","computeHash","DEFAULT_SIGNATURE_ALGORITHM","Promise","resolve","hash","filtered_hash","forEach","x","input","signature_algorithm","encoding","digest","digestStringAsync","CryptoDigestAlgorithm","SHA256","SHA1","process_request_params","unsigned","hashToParameters","reduce","parameters","endsWith","items","concat","push"],"sourceRoot":"../../../../../src","sources":["api/upload/utils/index.js"],"mappings":"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","ignoreList":[]}