{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_constants","_utils","e","__esModule","default","useVideoControlsVisibility","fadeAnim","React","useRef","Animated","Value","current","autoHideTimeoutId","clearAutoHideTimer","useCallback","clearTimeout","startAutoHideTimer","isControlsVisible","setIsControlsVisible","setTimeout","timing","toValue","duration","CONTROLS_FADE_DURATION","easing","Easing","linear","useNativeDriver","start","CONTROLS_AUTO_HIDE_DELAY","toggleControls","newVisibility","useEffect","exports","useVideoSeeking","seekTimeoutId","lastSeekTime","handleSeekStart","isSeeking","handleSeekMove","evt","seekbarRef","status","touchPageX","nativeEvent","pageX","Promise","resolve","measure","_x","_y","width","_height","_pageY","touchX","progress","calculateSeekProgress","seekPosition","durationMillis","seekingPosition","handleSeekEnd","videoRef","validSeekPosition","validateSeekPosition","currentPosition","positionMillis","positionDiff","hasSignificantPositionDifference","SEEK_POSITION_THRESHOLD","now","Date","timeSinceLastSeek","SEEK_DEBOUNCE_DELAY","isLoaded","setStatusAsync","catch","error","console","warn","lastSeekPosition","isSeekingComplete","getProgress","currentVideoPosition","getCurrentPosition","handleStatusUpdate","s","setStatus","setSeekingState","seekPositionDiff","Math","abs","SEEK_POSITION_TOLERANCE","useOrientation","isLandscape","setIsLandscape","useState","Dimensions","updateOrientation","height","get","subscription","addEventListener","remove"],"sourceRoot":"../../../../../src","sources":["widgets/video/layer/hooks.ts"],"mappings":"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","ignoreList":[]}