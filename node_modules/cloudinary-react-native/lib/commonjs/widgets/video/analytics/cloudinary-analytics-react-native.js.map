{"version":3,"names":["_eventsCollector","require","_uniqueIds","_sendRequestReactNative","_events","_validators","_expoAVVideoPlayerAdapter","_customerData","_appStateEvents","CLD_ANALYTICS_ENDPOINTS_LIST","production","default","liveStreams","development","CLD_ANALYTICS_ENDPOINT","connectCloudinaryAnalytics","videoRef","mainOptions","throwErrorIfInvalid","mainOptionsValidator","playerAdapter","expoAVVideoPlayerAdapter","videoTrackingSession","userId","getUserId","createEventsCollector","initEventsCollector","clearVideoTracking","clear","viewId","_value","getVideoViewId","getValue","regenerateValue","startManualTracking","metadata","options","_videoTrackingSession","type","metadataValidator","trackingOptionsValidator","_startManualTrackingLiveStream","customVideoUrlFallback","_startManualTrackingRegularVideo","sendData","data","sendRequest","videoViewEventCollector","finishVideoTracking","getCollectedEventsCount","addEvent","createRegularVideoViewEndEvent","events","prepareEvents","flushEvents","destroy","appStateRemoval","createAppStateTracker","onAppForeground","start","createRegularVideoViewStartEvent","videoUrl","getCurrentSrc","trackingType","onAppBackground","subtype","eventCollector","liveStreamData","parseCustomerVideoData","sendLiveStreamEvent","event","createLiveStreamViewStartEvent","createLiveStreamViewEndEvent","startAutoTracking","startVideoTracking","sourceUrl","viewStarted","onLoadStart","onEmptied","setTimeout","addCustomEvent","eventName","eventDetails","error","timestamp","Date","now","stopManualTracking","exports"],"sourceRoot":"../../../../../src","sources":["widgets/video/analytics/cloudinary-analytics-react-native.js"],"mappings":"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","ignoreList":[]}