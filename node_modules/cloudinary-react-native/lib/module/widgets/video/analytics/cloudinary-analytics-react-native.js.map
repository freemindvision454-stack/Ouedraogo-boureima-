{"version":3,"names":["initEventsCollector","getVideoViewId","getUserId","sendRequest","createRegularVideoViewEndEvent","createLiveStreamViewStartEvent","createLiveStreamViewEndEvent","createRegularVideoViewStartEvent","prepareEvents","throwErrorIfInvalid","metadataValidator","mainOptionsValidator","trackingOptionsValidator","expoAVVideoPlayerAdapter","parseCustomerVideoData","createAppStateTracker","CLD_ANALYTICS_ENDPOINTS_LIST","production","default","liveStreams","development","CLD_ANALYTICS_ENDPOINT","connectCloudinaryAnalytics","videoRef","mainOptions","playerAdapter","videoTrackingSession","userId","createEventsCollector","clearVideoTracking","clear","viewId","_value","getValue","regenerateValue","startManualTracking","metadata","options","_videoTrackingSession","type","_startManualTrackingLiveStream","customVideoUrlFallback","_startManualTrackingRegularVideo","sendData","data","videoViewEventCollector","finishVideoTracking","getCollectedEventsCount","addEvent","events","flushEvents","destroy","appStateRemoval","onAppForeground","start","videoUrl","getCurrentSrc","trackingType","onAppBackground","subtype","eventCollector","liveStreamData","sendLiveStreamEvent","event","startAutoTracking","startVideoTracking","sourceUrl","viewStarted","onLoadStart","onEmptied","setTimeout","addCustomEvent","eventName","eventDetails","error","timestamp","Date","now","stopManualTracking"],"sourceRoot":"../../../../../src","sources":["widgets/video/analytics/cloudinary-analytics-react-native.js"],"mappings":"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","ignoreList":[]}