{"version":3,"names":["React","Animated","Easing","CONTROLS_AUTO_HIDE_DELAY","CONTROLS_FADE_DURATION","SEEK_DEBOUNCE_DELAY","SEEK_POSITION_THRESHOLD","SEEK_POSITION_TOLERANCE","validateSeekPosition","hasSignificantPositionDifference","calculateSeekProgress","useVideoControlsVisibility","fadeAnim","useRef","Value","current","autoHideTimeoutId","clearAutoHideTimer","useCallback","clearTimeout","startAutoHideTimer","isControlsVisible","setIsControlsVisible","setTimeout","timing","toValue","duration","easing","linear","useNativeDriver","start","toggleControls","newVisibility","useEffect","useVideoSeeking","seekTimeoutId","lastSeekTime","handleSeekStart","isSeeking","handleSeekMove","evt","seekbarRef","status","touchPageX","nativeEvent","pageX","Promise","resolve","measure","_x","_y","width","_height","_pageY","touchX","progress","seekPosition","durationMillis","seekingPosition","handleSeekEnd","videoRef","validSeekPosition","currentPosition","positionMillis","positionDiff","now","Date","timeSinceLastSeek","isLoaded","setStatusAsync","catch","error","console","warn","lastSeekPosition","isSeekingComplete","getProgress","currentVideoPosition","getCurrentPosition","handleStatusUpdate","s","setStatus","setSeekingState","seekPositionDiff","Math","abs","useOrientation","isLandscape","setIsLandscape","useState","Dimensions","require","updateOrientation","height","get","subscription","addEventListener","remove"],"sourceRoot":"../../../../../src","sources":["widgets/video/layer/hooks.ts"],"mappings":"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","ignoreList":[]}